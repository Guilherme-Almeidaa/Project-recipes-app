{"ast":null,"code":"var _jsxFileName = \"/home/guilherme/Trybe/Projetos-trybe/sd-07-project-recipes-app/src/pages/DrinkDetails.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport copy from 'clipboard-copy';\nimport RecipesContext from '../context/RecipesContext';\nimport { fetchAPI, handleIngredients, SIX, TWENTY_ONE, THIRTY_SIX, FIFTY_ONE } from '../services/helpers';\nimport '../style/recipeDetail.css';\n\nfunction DrinkDetails({\n  match\n}) {\n  const [recommendation, setRecommendation] = useState(['']);\n  const {\n    recipeDetailDrink,\n    drinkRecipeId,\n    setMealRecipeId,\n    setRecipeDetailDrink\n  } = useContext(RecipesContext);\n  useEffect(() => {\n    const getAPI = async () => {\n      const drink = await fetchAPI(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${match.params.id}`);\n      const recipeDrink = await drink.drinks;\n      setRecipeDetailDrink(recipeDrink[0]);\n    };\n\n    getAPI();\n  }, [drinkRecipeId, setRecipeDetailDrink]);\n  useEffect(() => {\n    const fetchRecommendation = async () => {\n      const foods = await fetchAPI('https://www.themealdb.com/api/json/v1/1/search.php?s=');\n      const foodsData = await foods.meals;\n      setRecommendation(foodsData);\n    };\n\n    fetchRecommendation();\n  }, []);\n\n  const handleCopyClick = () => {\n    copy(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${drinkRecipeId}`);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": \"recipe-photo\",\n    src: recipeDetailDrink.strDrinkThumb,\n    alt: \"drink\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    \"data-testid\": \"recipe-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, recipeDetailDrink.strDrink), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"share-btn\",\n    onClick: handleCopyClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, \"Share\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"favorite-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, \"Favorite\"), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"recipe-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, recipeDetailDrink.strAlcoholic), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, handleIngredients(recipeDetailDrink, TWENTY_ONE, THIRTY_SIX, FIFTY_ONE)), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, recipeDetailDrink.strInstructions), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, recommendation && recommendation.length && recommendation.filter((_, indexs) => indexs < SIX).map((meals, index) => /*#__PURE__*/React.createElement(\"div\", {\n    \"data-testid\": `${index}-recomendation-card`,\n    key: \"index\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    onClick: () => setMealRecipeId(meals.idMeal),\n    to: `/comidas/${meals.idMeal}`,\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": `${index}-card-img`,\n    src: meals.strMealThumb,\n    alt: meals.strMeal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": `${index}-recomendation-title`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, meals.strMeal)))), /*#__PURE__*/React.createElement(Link, {\n    to: `/bebidas/${drinkRecipeId}/in-progress`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"fixedbutton\",\n    type: \"button\",\n    \"data-testid\": \"start-recipe-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, \"Start Recipe\")));\n}\n\nexport default DrinkDetails;","map":{"version":3,"sources":["/home/guilherme/Trybe/Projetos-trybe/sd-07-project-recipes-app/src/pages/DrinkDetails.js"],"names":["React","useState","useContext","useEffect","Link","copy","RecipesContext","fetchAPI","handleIngredients","SIX","TWENTY_ONE","THIRTY_SIX","FIFTY_ONE","DrinkDetails","match","recommendation","setRecommendation","recipeDetailDrink","drinkRecipeId","setMealRecipeId","setRecipeDetailDrink","getAPI","drink","params","id","recipeDrink","drinks","fetchRecommendation","foods","foodsData","meals","handleCopyClick","strDrinkThumb","strDrink","strAlcoholic","strInstructions","length","filter","_","indexs","map","index","idMeal","strMealThumb","strMeal"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport copy from 'clipboard-copy';\nimport RecipesContext from '../context/RecipesContext';\nimport { fetchAPI, handleIngredients,\n  SIX, TWENTY_ONE, THIRTY_SIX, FIFTY_ONE } from '../services/helpers';\nimport '../style/recipeDetail.css';\n\nfunction DrinkDetails({match}) {\n  const [recommendation, setRecommendation] = useState(['']);\n\n  const {\n    recipeDetailDrink,\n    drinkRecipeId,\n    setMealRecipeId,\n    setRecipeDetailDrink,\n  } = useContext(RecipesContext);\n\n  useEffect(() => {\n    const getAPI = async () => {\n      const drink = await fetchAPI(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${match.params.id}`);\n      const recipeDrink = await drink.drinks;\n      setRecipeDetailDrink(recipeDrink[0]);\n    };\n    getAPI();\n  }, [drinkRecipeId, setRecipeDetailDrink]);\n\n\n  \n  useEffect(() => {\n    const fetchRecommendation = async () => {\n      const foods = await fetchAPI('https://www.themealdb.com/api/json/v1/1/search.php?s=');\n      const foodsData = await foods.meals;\n      setRecommendation(foodsData);\n    };\n    fetchRecommendation();\n  }, []);\n\n  const handleCopyClick = () => {\n    copy(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${drinkRecipeId}`);\n  };\n\n  return (\n    <div>\n      <img\n        data-testid=\"recipe-photo\"\n        src={ recipeDetailDrink.strDrinkThumb }\n        alt=\"drink\"\n      />\n      <h2 data-testid=\"recipe-title\">{recipeDetailDrink.strDrink}</h2>\n      <button\n        type=\"button\"\n        data-testid=\"share-btn\"\n        onClick={ handleCopyClick }\n      >\n        Share\n      </button>\n      <button type=\"button\" data-testid=\"favorite-btn\">Favorite</button>\n      <p data-testid=\"recipe-category\">{recipeDetailDrink.strAlcoholic}</p>\n      <ul>\n        {handleIngredients(recipeDetailDrink, TWENTY_ONE, THIRTY_SIX, FIFTY_ONE)}\n      </ul>\n      <p data-testid=\"instructions\">{recipeDetailDrink.strInstructions}</p>\n      <div>\n        {\n          recommendation && recommendation.length && recommendation\n            .filter((_, indexs) => indexs < SIX)\n            .map((meals, index) => (\n              <div\n                data-testid={ `${index}-recomendation-card` }\n                key=\"index\"\n              >\n                <Link\n                  onClick={ () => setMealRecipeId(meals.idMeal) }\n                  to={ `/comidas/${meals.idMeal}` }\n                  key={ index }\n                >\n                  <img\n                    data-testid={ `${index}-card-img` }\n                    src={ meals.strMealThumb }\n                    alt={ meals.strMeal }\n                  />\n                </Link>\n                <p\n                  data-testid={ `${index}-recomendation-title` }\n                >\n                  {meals.strMeal}\n                </p>\n              </div>\n            ))\n        }\n      </div>\n      <Link to={ `/bebidas/${drinkRecipeId}/in-progress` }>\n        <button\n          className=\"fixedbutton\"\n          type=\"button\"\n          data-testid=\"start-recipe-btn\"\n        >\n          Start Recipe\n        </button>\n      </Link>\n    </div>\n  );\n}\n\nexport default DrinkDetails;\n"]},"metadata":{},"sourceType":"module"}