{"ast":null,"code":"var _jsxFileName = \"/home/guilherme/Trybe/Projetos-trybe/sd-07-project-recipes-app/src/pages/FavoriteRecipes.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport copy from 'clipboard-copy';\nimport shareIcon from \"../images/shareIcon.svg\";\nimport blackHeartIcon from \"../images/blackHeartIcon.svg\";\nimport { TWO_THOUSAND, ZERO } from '../services/helpers';\nimport perfilIcon from \"../images/profileIcon.svg\";\n\nfunction FavoriteRecipes() {\n  const [favorited, setFavorited] = useState([]);\n  const [type, setType] = useState('');\n  const [copyText, setCopyText] = useState('');\n  useEffect(() => {\n    setFavorited(JSON.parse(localStorage.favoriteRecipes));\n  }, []);\n\n  const handleFilterClick = ({\n    target\n  }) => {\n    setType(target.name);\n  };\n\n  const handleCopyClick = food => {\n    copy(`http://localhost:3000/${food.type}s/${food.id}`);\n    setCopyText('Link copiado!');\n    setInterval(() => setCopyText(''), TWO_THOUSAND);\n  };\n\n  const handleFavoriteClick = ({\n    target\n  }) => {\n    const recipes = JSON.parse(localStorage.favoriteRecipes);\n    const AllFavorites = recipes.filter(recipe => recipe.id !== target.name);\n    localStorage.favoriteRecipes = JSON.stringify(AllFavorites);\n    setFavorited(recipes.filter(recipe => recipe.id !== target.name));\n  };\n\n  if (favorited.length === ZERO) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }\n    }, \"Voc\\xEA n\\xE3o tem receitas favoritas\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/comidas\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }\n    }, \"Voltar\")));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    \"data-testid\": \"page-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, \"Receitas Favoritas\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/perfil\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": \"profile-top-btn\",\n    src: perfilIcon,\n    alt: \"perfil\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, \"Filtrar por:\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"filter-by-all-btn\",\n    name: \"\",\n    onClick: handleFilterClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"All\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"filter-by-food-btn\",\n    name: \"comida\",\n    onClick: handleFilterClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, \"Food\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"filter-by-drink-btn\",\n    name: \"bebida\",\n    onClick: handleFilterClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, \"Drinks\")), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, \"Favorite Recipes:\"), favorited.filter(element => element.type.includes(type)).map((food, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/${food.type}s/${food.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    width: \"200\",\n    \"data-testid\": `${index}-horizontal-image`,\n    src: food.image,\n    alt: food.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    \"data-testid\": `${index}-horizontal-top-text`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, food.type === 'comida' ? `${food.area} - ${food.category}` : food.alcoholicOrNot), /*#__PURE__*/React.createElement(\"h2\", {\n    \"data-testid\": `${index}-horizontal-name`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, food.name)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleCopyClick(food),\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": `${index}-horizontal-share-btn`,\n    src: shareIcon,\n    alt: food.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 19\n    }\n  })), copyText), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleFavoriteClick,\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": `${index}-horizontal-favorite-btn`,\n    name: food.id,\n    src: blackHeartIcon,\n    alt: \"favorite logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 19\n    }\n  }))))));\n}\n\nexport default FavoriteRecipes;","map":{"version":3,"sources":["/home/guilherme/Trybe/Projetos-trybe/sd-07-project-recipes-app/src/pages/FavoriteRecipes.js"],"names":["React","useState","useEffect","Link","copy","TWO_THOUSAND","ZERO","FavoriteRecipes","favorited","setFavorited","type","setType","copyText","setCopyText","JSON","parse","localStorage","favoriteRecipes","handleFilterClick","target","name","handleCopyClick","food","id","setInterval","handleFavoriteClick","recipes","AllFavorites","filter","recipe","stringify","length","perfilIcon","element","includes","map","index","image","area","category","alcoholicOrNot","shareIcon","blackHeartIcon"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport copy from 'clipboard-copy';\nimport shareIcon from '../images/shareIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport { TWO_THOUSAND, ZERO } from '../services/helpers';\nimport perfilIcon from '../images/profileIcon.svg';\n\nfunction FavoriteRecipes() {\n  const [favorited, setFavorited] = useState([]);\n  const [type, setType] = useState('');\n  const [copyText, setCopyText] = useState('');\n\n  useEffect(() => {\n    setFavorited(JSON.parse(localStorage.favoriteRecipes));\n  }, []);\n\n  const handleFilterClick = ({ target }) => {\n    setType(target.name);\n  };\n\n  const handleCopyClick = (food) => {\n    copy(`http://localhost:3000/${food.type}s/${food.id}`);\n    setCopyText('Link copiado!');\n    setInterval(() => setCopyText(''), TWO_THOUSAND);\n  };\n\n  const handleFavoriteClick = ({ target }) => {\n    const recipes = JSON.parse(localStorage.favoriteRecipes);\n    const AllFavorites = recipes.filter((recipe) => recipe.id !== target.name);\n    localStorage.favoriteRecipes = JSON.stringify(AllFavorites);\n    setFavorited(recipes.filter((recipe) => recipe.id !== target.name));\n  };\n\n  if (favorited.length === ZERO) {\n    return (\n      <div>\n        <h2>Você não tem receitas favoritas</h2>\n        <Link to=\"/comidas\">\n          <button type=\"button\">Voltar</button>\n        </Link>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <header>\n        <h1 data-testid=\"page-title\">\n          Receitas Favoritas\n        </h1>\n        <Link to=\"/perfil\">\n          <button type=\"button\">\n            <img\n              data-testid=\"profile-top-btn\"\n              src={ perfilIcon }\n              alt=\"perfil\"\n            />\n          </button>\n        </Link>\n      </header>\n      <div>\n        <h2>Filtrar por:</h2>\n        <button\n          type=\"button\"\n          data-testid=\"filter-by-all-btn\"\n          name=\"\"\n          onClick={ handleFilterClick }\n        >\n          All\n        </button>\n        <button\n          type=\"button\"\n          data-testid=\"filter-by-food-btn\"\n          name=\"comida\"\n          onClick={ handleFilterClick }\n        >\n          Food\n        </button>\n        <button\n          type=\"button\"\n          data-testid=\"filter-by-drink-btn\"\n          name=\"bebida\"\n          onClick={ handleFilterClick }\n        >\n          Drinks\n        </button>\n      </div>\n      <h2>Favorite Recipes:</h2>\n      {\n        favorited\n          .filter((element) => element.type.includes(type)).map((food, index) => (\n            <div key={ index }>\n              <Link to={ `/${food.type}s/${food.id}` }>\n                <img\n                  width=\"200\"\n                  data-testid={ `${index}-horizontal-image` }\n                  src={ food.image }\n                  alt={ food.name }\n                />\n                <h3 data-testid={ `${index}-horizontal-top-text` }>\n                  {(food.type === 'comida')\n                    ? `${food.area} - ${food.category}`\n                    : food.alcoholicOrNot}\n                </h3>\n                <h2 data-testid={ `${index}-horizontal-name` }>{food.name}</h2>\n              </Link>\n              <div>\n                <button\n                  onClick={ () => handleCopyClick(food) }\n                  type=\"button\"\n                >\n                  <img\n                    data-testid={ `${index}-horizontal-share-btn` }\n                    src={ shareIcon }\n                    alt={ food.name }\n                  />\n                </button>\n                {copyText}\n              </div>\n              <div>\n                <button\n                  onClick={ handleFavoriteClick }\n                  type=\"button\"\n                >\n                  <img\n                    data-testid={ `${index}-horizontal-favorite-btn` }\n                    name={ food.id }\n                    src={ blackHeartIcon }\n                    alt=\"favorite logo\"\n                  />\n                </button>\n              </div>\n            </div>\n          ))\n      }\n    </div>\n  );\n}\n\nexport default FavoriteRecipes;\n"]},"metadata":{},"sourceType":"module"}