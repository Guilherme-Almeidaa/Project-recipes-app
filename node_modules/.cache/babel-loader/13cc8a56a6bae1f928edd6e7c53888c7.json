{"ast":null,"code":"var _jsxFileName = \"/home/guilherme/Trybe/Projetos-trybe/sd-07-project-recipes-app/src/pages/FoodDetails.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport copy from 'clipboard-copy';\nimport RecipesContext from '../context/RecipesContext';\nimport { fetchAPI, handleIngredients, SIX, NINE, TWENTY_NINE, FOURTY_NINE } from '../services/helpers';\nimport '../style/recipeDetail.css';\n\nfunction FoodDetails({\n  match\n}) {\n  const [recommendation, setRecommendation] = useState(['']);\n  const {\n    recipeDetailFood,\n    mealRecipeId,\n    setDrinkRecipeId,\n    setRecipeDetailFood\n  } = useContext(RecipesContext);\n  useEffect(() => {\n    const getAPI = async () => {\n      const food = await fetchAPI(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${match.params.id}`);\n      const recipeFood = await food.meals;\n      setRecipeDetailFood(recipeFood[0]);\n    };\n\n    getAPI();\n  }, [mealRecipeId, setRecipeDetailFood]);\n  useEffect(() => {\n    const fetchRecommendation = async () => {\n      const drinks = await fetchAPI('https://www.thecocktaildb.com/api/json/v1/1/search.php?s=');\n      const drinksData = await drinks.drinks;\n      setRecommendation(drinksData);\n    };\n\n    fetchRecommendation();\n  }, []);\n\n  const handleCopyClick = () => {\n    copy(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${mealRecipeId}`);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": \"recipe-photo\",\n    src: recipeDetailFood.strMealThumb,\n    alt: \"food\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    \"data-testid\": \"recipe-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, recipeDetailFood.strMeal), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"share-btn\",\n    onClick: handleCopyClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, \"Share\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"favorite-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, \"Favorite\"), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"recipe-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, recipeDetailFood.strCategory), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, handleIngredients(recipeDetailFood, NINE, TWENTY_NINE, FOURTY_NINE)), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, recipeDetailFood.strInstructions), /*#__PURE__*/React.createElement(\"video\", {\n    \"data-testid\": \"video\",\n    width: \"750\",\n    height: \"500\",\n    controls: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"source\", {\n    src: recipeDetailFood.strYoutube,\n    type: \"video/mp4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"track\", {\n    src: recipeDetailFood.strYoutube,\n    kind: \"captions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, recommendation && recommendation.length && recommendation.filter((_, indexFilter) => indexFilter < SIX).map((drinks, index) => /*#__PURE__*/React.createElement(\"div\", {\n    \"data-testid\": `${index}-recomendation-card`,\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    onClick: () => setDrinkRecipeId(drinks.idDrink),\n    to: `/bebidas/${drinks.idDrink}`,\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": `${index}-card-img`,\n    src: drinks.strDrinkThumb,\n    alt: drinks.strDrink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": `${index}-recomendation-title`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, drinks.strDrink)))), /*#__PURE__*/React.createElement(Link, {\n    to: `/comidas/${mealRecipeId}/in-progress`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"fixedbutton\",\n    type: \"button\",\n    \"data-testid\": \"start-recipe-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, \"Start Recipe\")));\n}\n\nexport default FoodDetails;","map":{"version":3,"sources":["/home/guilherme/Trybe/Projetos-trybe/sd-07-project-recipes-app/src/pages/FoodDetails.js"],"names":["React","useState","useContext","useEffect","Link","copy","RecipesContext","fetchAPI","handleIngredients","SIX","NINE","TWENTY_NINE","FOURTY_NINE","FoodDetails","match","recommendation","setRecommendation","recipeDetailFood","mealRecipeId","setDrinkRecipeId","setRecipeDetailFood","getAPI","food","params","id","recipeFood","meals","fetchRecommendation","drinks","drinksData","handleCopyClick","strMealThumb","strMeal","strCategory","strInstructions","strYoutube","length","filter","_","indexFilter","map","index","idDrink","strDrinkThumb","strDrink"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport copy from 'clipboard-copy';\nimport RecipesContext from '../context/RecipesContext';\nimport { fetchAPI, handleIngredients,\n  SIX, NINE, TWENTY_NINE, FOURTY_NINE } from '../services/helpers';\nimport '../style/recipeDetail.css';\n\nfunction FoodDetails({match}) {\n  const [recommendation, setRecommendation] = useState(['']);\n\n  const {\n    recipeDetailFood,\n    mealRecipeId,\n    setDrinkRecipeId,\n    setRecipeDetailFood,\n  } = useContext(RecipesContext);\n\n  useEffect(() => {\n    const getAPI = async () => {\n      const food = await fetchAPI(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${match.params.id}`);\n      const recipeFood = await food.meals;\n      setRecipeDetailFood(recipeFood[0]);\n    };\n    getAPI();\n  }, [mealRecipeId, setRecipeDetailFood]);\n\n  useEffect(() => {\n    const fetchRecommendation = async () => {\n      const drinks = await fetchAPI('https://www.thecocktaildb.com/api/json/v1/1/search.php?s=');\n      const drinksData = await drinks.drinks;\n      setRecommendation(drinksData);\n    };\n    fetchRecommendation();\n  }, []);\n\n  const handleCopyClick = () => {\n    copy(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${mealRecipeId}`);\n  };\n\n  return (\n    <div>\n      <img data-testid=\"recipe-photo\" src={ recipeDetailFood.strMealThumb } alt=\"food\" />\n      <h2 data-testid=\"recipe-title\">{recipeDetailFood.strMeal}</h2>\n      <button\n        type=\"button\"\n        data-testid=\"share-btn\"\n        onClick={ handleCopyClick }\n      >\n        Share\n      </button>\n      <button type=\"button\" data-testid=\"favorite-btn\">Favorite</button>\n      <p data-testid=\"recipe-category\">{recipeDetailFood.strCategory}</p>\n      <ul>\n        {handleIngredients(recipeDetailFood, NINE, TWENTY_NINE, FOURTY_NINE)}\n      </ul>\n      <p data-testid=\"instructions\">{recipeDetailFood.strInstructions}</p>\n      <video data-testid=\"video\" width=\"750\" height=\"500\" controls>\n        <source src={ recipeDetailFood.strYoutube } type=\"video/mp4\" />\n        <track src={ recipeDetailFood.strYoutube } kind=\"captions\" />\n      </video>\n      <div>\n        {\n          recommendation && recommendation.length && recommendation\n            .filter((_, indexFilter) => indexFilter < SIX)\n            .map((drinks, index) => (\n              <div\n                data-testid={ `${index}-recomendation-card` }\n                key={ index }\n              >\n                <Link\n                  onClick={ () => setDrinkRecipeId(drinks.idDrink) }\n                  to={ `/bebidas/${drinks.idDrink}` }\n                  key={ index }\n                >\n                  <img\n                    data-testid={ `${index}-card-img` }\n                    src={ drinks.strDrinkThumb }\n                    alt={ drinks.strDrink }\n                  />\n                </Link>\n                <p\n                  data-testid={ `${index}-recomendation-title` }\n                >\n                  {drinks.strDrink}\n                </p>\n              </div>\n            ))\n        }\n      </div>\n      <Link to={ `/comidas/${mealRecipeId}/in-progress` }>\n        <button\n          className=\"fixedbutton\"\n          type=\"button\"\n          data-testid=\"start-recipe-btn\"\n        >\n          Start Recipe\n        </button>\n      </Link>\n    </div>\n  );\n}\n\nexport default FoodDetails;\n"]},"metadata":{},"sourceType":"module"}