{"ast":null,"code":"var _jsxFileName = \"/home/guilherme/Trybe/Projetos-trybe/sd-07-project-recipes-app/src/pages/DrinkDetails.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport copy from 'clipboard-copy';\nimport RecipesContext from '../context/RecipesContext';\nimport { fetchAPI, handleIngredients, SIX, TWENTY_ONE, THIRTY_SIX, FIFTY_ONE } from '../services/helpers';\n\nfunction DrinkDetails() {\n  const [recommendation, setRecommendation] = useState(['']);\n  const {\n    recipeDetailDrink,\n    drinkRecipeId,\n    setMealRecipeId,\n    setRecipeDetailDrink\n  } = useContext(RecipesContext);\n  useEffect(() => {\n    const getAPI = async () => {\n      const drink = await fetchAPI(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${drinkRecipeId}`);\n      const recipeDrink = await drink.drinks;\n      setRecipeDetailDrink(recipeDrink[0]);\n    };\n\n    getAPI();\n  }, [drinkRecipeId, setRecipeDetailDrink]);\n  useEffect(() => {\n    const fetchRecommendation = async () => {\n      const foods = await fetchAPI('https://www.themealdb.com/api/json/v1/1/search.php?s=');\n      const foodsData = await foods.meals;\n      setRecommendation(foodsData);\n    };\n\n    fetchRecommendation();\n  }, []);\n\n  const handleCopyClick = () => {\n    copy(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${drinkRecipeId}`);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": \"recipe-photo\",\n    src: recipeDetailDrink.strDrinkThumb,\n    alt: \"drink\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    \"data-testid\": \"recipe-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, recipeDetailDrink.strDrink), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"share-btn\",\n    onClick: handleCopyClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, \"Share\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"favorite-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, \"Favorite\"), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"recipe-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, recipeDetailDrink.strAlcoholic), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, handleIngredients(recipeDetailDrink, TWENTY_ONE, THIRTY_SIX, FIFTY_ONE)), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, recipeDetailDrink.strInstructions), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, recommendation && recommendation.length && recommendation.filter((_, indexs) => indexs < SIX).map((meals, index) => /*#__PURE__*/React.createElement(\"div\", {\n    \"data-testid\": `${index}-recomendation-card`,\n    key: \"index\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    onClick: () => setMealRecipeId(meals.idMeal),\n    to: `/comidas/${meals.idMeal}`,\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": `${index}-card-img`,\n    src: meals.strMealThumb,\n    alt: meals.strMeal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": `${index}-recomendation-title`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, meals.strMeal)))), /*#__PURE__*/React.createElement(Link, {\n    to: `/bebidas/${drinkRecipeId}/in-progress`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"start-recipe-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \"Start Recipe\")));\n}\n\nexport default DrinkDetails;","map":{"version":3,"sources":["/home/guilherme/Trybe/Projetos-trybe/sd-07-project-recipes-app/src/pages/DrinkDetails.js"],"names":["React","useState","useContext","useEffect","Link","copy","RecipesContext","fetchAPI","handleIngredients","SIX","TWENTY_ONE","THIRTY_SIX","FIFTY_ONE","DrinkDetails","recommendation","setRecommendation","recipeDetailDrink","drinkRecipeId","setMealRecipeId","setRecipeDetailDrink","getAPI","drink","recipeDrink","drinks","fetchRecommendation","foods","foodsData","meals","handleCopyClick","strDrinkThumb","strDrink","strAlcoholic","strInstructions","length","filter","_","indexs","map","index","idMeal","strMealThumb","strMeal"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport copy from 'clipboard-copy';\nimport RecipesContext from '../context/RecipesContext';\nimport { fetchAPI, handleIngredients,\n  SIX, TWENTY_ONE, THIRTY_SIX, FIFTY_ONE } from '../services/helpers';\n\nfunction DrinkDetails() {\n  const [recommendation, setRecommendation] = useState(['']);\n\n  const {\n    recipeDetailDrink,\n    drinkRecipeId,\n    setMealRecipeId,\n    setRecipeDetailDrink,\n  } = useContext(RecipesContext);\n\n  useEffect(() => {\n    const getAPI = async () => {\n      const drink = await fetchAPI(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${drinkRecipeId}`);\n      const recipeDrink = await drink.drinks;\n      setRecipeDetailDrink(recipeDrink[0]);\n    };\n    getAPI();\n  }, [drinkRecipeId, setRecipeDetailDrink]);\n\n  useEffect(() => {\n    const fetchRecommendation = async () => {\n      const foods = await fetchAPI('https://www.themealdb.com/api/json/v1/1/search.php?s=');\n      const foodsData = await foods.meals;\n      setRecommendation(foodsData);\n    };\n    fetchRecommendation();\n  }, []);\n\n  const handleCopyClick = () => {\n    copy(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${drinkRecipeId}`);\n  };\n\n  return (\n    <div>\n      <img\n        data-testid=\"recipe-photo\"\n        src={ recipeDetailDrink.strDrinkThumb }\n        alt=\"drink\"\n      />\n      <h2 data-testid=\"recipe-title\">{recipeDetailDrink.strDrink}</h2>\n      <button\n        type=\"button\"\n        data-testid=\"share-btn\"\n        onClick={ handleCopyClick }\n      >\n        Share\n      </button>\n      <button type=\"button\" data-testid=\"favorite-btn\">Favorite</button>\n      <p data-testid=\"recipe-category\">{recipeDetailDrink.strAlcoholic}</p>\n      <ul>\n        {handleIngredients(recipeDetailDrink, TWENTY_ONE, THIRTY_SIX, FIFTY_ONE)}\n      </ul>\n      <p data-testid=\"instructions\">{recipeDetailDrink.strInstructions}</p>\n      <div>\n        {\n          recommendation && recommendation.length && recommendation\n            .filter((_, indexs) => indexs < SIX)\n            .map((meals, index) => (\n              <div\n                data-testid={ `${index}-recomendation-card` }\n                key=\"index\"\n              >\n                <Link\n                  onClick={ () => setMealRecipeId(meals.idMeal) }\n                  to={ `/comidas/${meals.idMeal}` }\n                  key={ index }\n                >\n                  <img\n                    data-testid={ `${index}-card-img` }\n                    src={ meals.strMealThumb }\n                    alt={ meals.strMeal }\n                  />\n                </Link>\n                <p\n                  data-testid={ `${index}-recomendation-title` }\n                >\n                  {meals.strMeal}\n                </p>\n              </div>\n            ))\n        }\n      </div>\n      <Link to={ `/bebidas/${drinkRecipeId}/in-progress` }>\n        <button type=\"button\" data-testid=\"start-recipe-btn\">Start Recipe</button>\n      </Link>\n    </div>\n  );\n}\n\nexport default DrinkDetails;\n"]},"metadata":{},"sourceType":"module"}